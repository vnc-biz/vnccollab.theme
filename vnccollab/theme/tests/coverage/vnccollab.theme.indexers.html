
    <html>
      <head><title>Test coverage for vnccollab.theme.indexers</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Test coverage for vnccollab.theme.indexers</h1>
      <table>
    
<tr><td><a href="vnccollab.html">vnccollab/</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 68% (1329 of 4163 uncovered)</td></tr>
<tr><td><a href="vnccollab.theme.html">&nbsp;&nbsp;&nbsp;&nbsp;theme/</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 68% (1329 of 4163 uncovered)</td></tr>
<tr><td><a href="vnccollab.theme.indexers.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexers.py</a></td> <td style="background: green">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 100% (0 of 14 uncovered)</td></tr>
</table><hr/>
<pre>    1: from plone.indexer.decorator import indexer
    1: from zope.annotation.interfaces import IAnnotations
       
    1: from cioppino.twothumbs.interfaces import ILoveThumbsDontYou
    1: from cioppino.twothumbs.rate import yays, nays, getTotalPositiveRatings
       
       
    1: @indexer(ILoveThumbsDontYou)
       def avg_ratings(object, **kw):
           """Average rating: difference between thumb ups and downs.
           """
  167:     annotations = IAnnotations(object)
  167:     ups = (yays in annotations) and len(annotations[yays]) or 0
  167:     downs = (nays in annotations) and len(annotations[nays]) or 0
  167:     return ups - downs
       
    1: @indexer(ILoveThumbsDontYou)
       def total_down_ratings(object, **kw):
           """
           Return the total number of negative ratings
           """
  167:     annotations = IAnnotations(object)
  167:     if nays in annotations:
    3:         return len(annotations[nays])
       
  164:     return 0
</pre>

      <div class="footer">
      Generated for revision Niewersjonowany katalog on 2013-11-18 01:04:45.684645Z
      </div>
    </body>
    </html>
